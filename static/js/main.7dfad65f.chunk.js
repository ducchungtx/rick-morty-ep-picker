(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{10:function(e,t,a){e.exports=a(21)},16:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=(a(16),function(){return r.a.createElement("div",null,"Not found")}),i=a(4),l=a.n(i),u=a(8),d=function(){var e=Object(u.a)(l.a.mark(function e(t){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes",e.next=4,fetch("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes");case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:n._embedded.episodes}));case 12:throw new Error("Network response was not ok.");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),p=function(e,t,a){var n=e.favorites.includes(a),r=e.favorites.filter(function(e){return e.id!==a.id});return t(n?{type:"REMOVE_FAV",payload:r}:{type:"ADD_FAV",payload:[a]})},m=a(9),f=a(5),v=a(2),h={episodes:[],favorites:[]},E=r.a.createContext(h),k=function(e,t){switch(t.type){case"FETCH_DATA":return Object(v.a)({},e,{episodes:t.payload});case"ADD_FAV":return Object(v.a)({},e,{favorites:[].concat(Object(f.a)(e.favorites),Object(f.a)(t.payload))});case"REMOVE_FAV":return Object(v.a)({},e,{favorites:t.payload});default:return e}},y=r.a.lazy(function(){return a.e(0).then(a.bind(null,22))}),b=function(){var e=r.a.useContext(E),t=e.state,a=e.dispatch;r.a.useEffect(function(){d(a)},[]);var n={episodes:t.episodes,store:{state:t,dispatch:a},toggleFavAction:p,favorites:t.favorites};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"...loading")},r.a.createElement("section",{className:"episode-layout"},r.a.createElement(y,n))))},w=r.a.lazy(function(){return a.e(0).then(a.bind(null,22))}),g=function(){var e=r.a.useContext(E),t=e.state,a=e.dispatch,n={episodes:t.favorites,store:{state:t,dispatch:a},toggleFavAction:p,favorites:t.favorites};return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null," ...loading")},r.a.createElement("div",{className:"episode-layout"},r.a.createElement(w,n)))},A=a(1),F={"/rick-morty-ep-picker":function(){return r.a.createElement(b,null)},"/rick-morty-ep-picker/favs":function(){return r.a.createElement(g,null)}},O=function(e){Object(A.useRedirect)("/","/rick-morty-ep-picker");var t=Object(A.useRoutes)(F),a=r.a.useContext(E),n=a.state;a._;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Rick & Morty"),r.a.createElement("p",null,"Pick your favorite episode!")),r.a.createElement("nav",null,r.a.createElement(A.A,{href:"/rick-morty-ep-picker"},"Home"),r.a.createElement(A.A,{href:"/rick-morty-ep-picker/favs"},"Favorite(s): ",n.favorites.length))),t||r.a.createElement(s,null),e.children)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(function(e){var t=e.children,a=r.a.useReducer(k,h),n=Object(m.a)(a,2),o=n[0],c=n[1];return r.a.createElement(E.Provider,{value:{state:o,dispatch:c}},t)},null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,3]]]);
//# sourceMappingURL=main.7dfad65f.chunk.js.map